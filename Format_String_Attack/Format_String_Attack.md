# Format string attack

## Basics:

Functions like *scanf(), printf(), fscanf(), fprintf(), etc.* use special symbols ( *%d, %f, %x, %s, etc* ) to change the original string with the arguments. The first argument of these functions is the string to be formated ( Referring to *scanf(), printf()* . The other functions in this family may contain a file descriptor or a target string.), followed by the arguments that will be formated into the string.
If, however we pass more special symbols, the function will try to look further into the stack to get arguments. Usually programmers are careful not to let this happen. 


A bad practice is throwing a string to be printed as the format string itself. ( `printf(c);` instead of `printf("%s",c);` )The syntax is correct and since the string is terminated with a NULL, the program runs without a crash. Sometimes, that string is controlled by the user, thus making an attack vector called *format string attack*, that opens arbitrary memory reads, writes, and code execution ( directly or using other vulnerable designs, depending on the compiled code).


## Crashing the program

Since the function looks in the stack to get arguments, we can ask the program to print as many NULL-terminated memory areas from the stack, eventually reaching an illegal memory read. This can be done with the following input:

	python -c 'print "%s"*100'


## Memory reads

	TO DO


## Memory writes

	TO DO